<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üéì Ultimate MongoDB Interactive Tutor ‚Äî Deep Dive!</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <style>
    .code-block { @apply bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto my-3 font-mono text-sm; }
    .cmd-input { @apply w-full p-3 bg-gray-800 text-green-300 font-mono text-sm rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500; }
    .output { @apply bg-gray-900 text-gray-300 p-4 rounded-lg my-3 font-mono text-sm overflow-auto max-h-96; }
    .class-tag { @apply inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mr-1 mb-1 font-mono; }
    .nav-link { @apply block py-2 px-4 rounded hover:bg-blue-100 transition font-medium; }
    .active { @apply bg-blue-600 text-white; }
    .prompt::before { content: "test> "; @apply text-green-400; }
    .success { @apply text-green-400; }
    .error { @apply text-red-400; }
    .keyword { @apply text-yellow-300; }
    .string { @apply text-green-300; }
    .number { @apply text-purple-300; }
    .property { @apply text-blue-300; }
    .flowchart { @apply bg-white p-4 rounded-lg border my-4; }
    .flowchart-step { @apply flex items-center mb-3; }
    .flowchart-number { @apply bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3; }
    .example-card { @apply bg-white border rounded-lg p-4 mb-4; }
    .example-title { @apply font-bold text-blue-800 mb-2; }
    .use-case { @apply bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg my-4; }
    .cheat-sheet { @apply bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded; }
  </style>
</head>
<body class="bg-gray-50 font-sans">

  <header class="bg-blue-700 text-white p-4 shadow">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold">üéì Ultimate MongoDB Tutor</h1>
      <div class="text-sm">Deep Explanations ‚Ä¢ 50+ Examples ‚Ä¢ Visual Data Explorer</div>
    </div>
  </header>

  <div class="flex">
    <!-- Sidebar -->
    <aside class="w-64 bg-white shadow-md h-screen p-4 fixed top-16 overflow-y-auto">
      <h2 class="font-semibold text-gray-600 uppercase tracking-wider text-xs mb-3">Lessons</h2>
      <nav>
        <a href="#intro" class="nav-link">üåü Introduction</a>
        <a href="#setup" class="nav-link">‚öôÔ∏è Setup Guide</a>
        <a href="#concepts" class="nav-link">üß† Core Concepts</a>
        <a href="#insert" class="nav-link">üì• Insert (5+ Examples)</a>
        <a href="#find" class="nav-link">üîç Find (10+ Examples)</a>
        <a href="#update" class="nav-link">‚úèÔ∏è Update (8+ Examples)</a>
        <a href="#delete" class="nav-link">üóëÔ∏è Delete (5+ Examples)</a>
        <a href="#aggregate" class="nav-link">üìä Aggregate (10+ Examples)</a>
        <a href="#indexes" class="nav-link">‚ö° Indexes (5+ Examples)</a>
        <a href="#data-explorer" class="nav-link">üëÄ Data Explorer</a>
        <a href="#playground" class="nav-link mt-6 bg-blue-600 text-white rounded">üß™ Full Playground</a>
      </nav>
      <div class="mt-8 text-xs text-gray-500">
        <p>‚úÖ 50+ Real Examples<br>‚úÖ Visual Data Explorer<br>‚úÖ Error Debugging<br>‚úÖ Use Cases</p>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="ml-64 p-8 w-full max-w-4xl">

      <!-- Introduction -->
      <section id="intro" class="mb-12 scroll-mt-20">
        <h2 class="text-3xl font-bold text-blue-800 mb-4">üåü MongoDB: The Document Database</h2>
        <p class="text-lg leading-relaxed">
          MongoDB is a <strong>NoSQL, document-oriented database</strong> that stores data in flexible, JSON-like documents called <strong>BSON</strong> (Binary JSON).
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6">
          <div class="bg-blue-50 p-4 rounded-lg">
            <h3 class="font-bold text-blue-800 mb-2">SQL Database (MySQL, PostgreSQL)</h3>
            <ul class="text-sm space-y-2">
              <li>‚Ä¢ Structured tables with fixed schema</li>
              <li>‚Ä¢ Rows and columns</li>
              <li>‚Ä¢ SQL queries (SELECT, JOIN, etc.)</li>
              <li>‚Ä¢ Vertical scaling</li>
              <li>‚Ä¢ ACID transactions</li>
            </ul>
          </div>
          <div class="bg-green-50 p-4 rounded-lg">
            <h3 class="font-bold text-green-800 mb-2">MongoDB (NoSQL)</h3>
            <ul class="text-sm space-y-2">
              <li>‚Ä¢ Flexible document structure</li>
              <li>‚Ä¢ Collections and documents</li>
              <li>‚Ä¢ JavaScript-like queries</li>
              <li>‚Ä¢ Horizontal scaling (sharding)</li>
              <li>‚Ä¢ Eventual consistency</li>
            </ul>
          </div>
        </div>

        <div class="example-card">
          <h3 class="example-title">Document Structure Example</h3>
          <div class="code-block">{
  "_id": ObjectId("507f1f77bcf86cd799439011"),
  "name": "John Doe",
  "age": 30,
  "email": "john@example.com",
  "address": {
    "street": "123 Main St",
    "city": "New York",
    "zipcode": "10001"
  },
  "hobbies": ["reading", "swimming", "coding"],
  "createdAt": ISODate("2023-01-15T10:00:00Z")
}</div>
          <p class="text-sm text-gray-600 mt-2">‚úÖ Each document can have different fields<br>‚úÖ Nested objects and arrays supported<br>‚úÖ Automatic _id field if not provided</p>
        </div>

        <div class="use-case">
          <h3 class="font-bold text-purple-800 mb-2">üöÄ Real-World Use Cases</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">
            <div>‚Ä¢ Content Management Systems</div>
            <div>‚Ä¢ Real-time Analytics</div>
            <div>‚Ä¢ Mobile Apps</div>
            <div>‚Ä¢ IoT Applications</div>
            <div>‚Ä¢ Product Catalogs</div>
            <div>‚Ä¢ User Profiles</div>
          </div>
        </div>
      </section>

      <!-- Setup -->
      <section id="setup" class="mb-12 scroll-mt-20">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">‚öôÔ∏è MongoDB Setup Guide</h2>
        
        <div class="flowchart">
          <h3 class="font-bold text-lg mb-4">Installation Flowchart</h3>
          <div class="flowchart-step">
            <div class="flowchart-number">1</div>
            <div>Download MongoDB Community Server from <a href="https://www.mongodb.com/try/download/community" class="text-blue-600 underline">mongodb.com</a></div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">2</div>
            <div>Install with default settings</div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">3</div>
            <div>Start MongoDB service (Windows: Services app, Mac: brew services start mongodb-community)</div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">4</div>
            <div>Open terminal and run: <code class="bg-gray-200 px-1 rounded">mongosh</code></div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">5</div>
            <div>Connect to database: <code class="bg-gray-200 px-1 rounded">use mydatabase</code></div>
          </div>
        </div>

        <div class="example-card">
          <h3 class="example-title">First Commands to Try</h3>
          <div class="code-block">// Show all databases<br>show dbs<br><br>// Create/use a database<br>use ecommerce<br><br>// Show collections in current database<br>show collections<br><br>// Insert first document<br>db.products.insertOne({name: "Laptop", price: 999})</div>
        </div>

        <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded">
          <strong>‚ö†Ô∏è Important Note:</strong> This browser simulator teaches MongoDB syntax and concepts, but for real projects, you must install MongoDB locally or use MongoDB Atlas (cloud service).
        </div>
      </section>

      <!-- Core Concepts -->
      <section id="concepts" class="mb-12 scroll-mt-20">
        <h2 class="text-3xl font-bold text-blue-800 mb-6">üß† MongoDB Core Concepts</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
          <div class="bg-white border rounded-lg p-4">
            <h3 class="font-bold text-blue-700 mb-2">Database</h3>
            <p class="text-sm">Container for collections. Created automatically when you first store data.</p>
            <div class="code-block mt-2">use myapp</div>
          </div>
          <div class="bg-white border rounded-lg p-4">
            <h3 class="font-bold text-blue-700 mb-2">Collection</h3>
            <p class="text-sm">Group of MongoDB documents. No fixed schema - documents in same collection can have different fields.</p>
            <div class="code-block mt-2">db.users</div>
          </div>
          <div class="bg-white border rounded-lg p-4">
            <h3 class="font-bold text-blue-700 mb-2">Document</h3>
            <p class="text-sm">Basic unit of data in MongoDB. JSON-like BSON format with key-value pairs.</p>
            <div class="code-block mt-2">{name: "Alice", age: 30}</div>
          </div>
          <div class="bg-white border rounded-lg p-4">
            <h3 class="font-bold text-blue-700 mb-2">_id Field</h3>
            <p class="text-sm">Unique identifier for each document. Automatically created if not provided.</p>
            <div class="code-block mt-2">_id: ObjectId("...")</div>
          </div>
          <div class="bg-white border rounded-lg p-4">
            <h3 class="font-bold text-blue-700 mb-2">BSON</h3>
            <p class="text-sm">Binary JSON - supports additional data types like Date, Binary, ObjectId.</p>
            <div class="code-block mt-2">ISODate("2023-01-01")</div>
          </div>
          <div class="bg-white border rounded-lg p-4">
            <h3 class="font-bold text-blue-700 mb-2">Query Language</h3>
            <p class="text-sm">JavaScript-like syntax with operators like $gt, $in, $exists.</p>
            <div class="code-block mt-2">{age: {$gt: 25}}</div>
          </div>
        </div>

        <div class="cheat-sheet">
          <h3 class="font-bold text-yellow-800 mb-2">üìã MongoDB Shell Cheat Sheet</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
            <div><code class="bg-yellow-100 px-1 rounded">show dbs</code> - List databases</div>
            <div><code class="bg-yellow-100 px-1 rounded">use <dbname></code> - Switch database</div>
            <div><code class="bg-yellow-100 px-1 rounded">show collections</code> - List collections</div>
            <div><code class="bg-yellow-100 px-1 rounded">db.createCollection("name")</code> - Create collection</div>
            <div><code class="bg-yellow-100 px-1 rounded">db.collection.drop()</code> - Delete collection</div>
            <div><code class="bg-yellow-100 px-1 rounded">db.dropDatabase()</code> - Delete database</div>
          </div>
        </div>
      </section>

      <!-- INSERT -->
      <section id="insert" class="mb-12 scroll-mt-20">
        <h2 class="text-3xl font-bold text-blue-800 mb-6">üì• Insert Documents ‚Äî 5+ Detailed Examples</h2>
        
        <div class="flowchart">
          <h3 class="font-bold text-lg mb-4">Insert Operation Flow</h3>
          <div class="flowchart-step">
            <div class="flowchart-number">1</div>
            <div>Choose collection (created automatically if doesn't exist)</div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">2</div>
            <div>Prepare document with key-value pairs</div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">3</div>
            <div>Execute insertOne() or insertMany()</div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">4</div>
            <div>MongoDB adds _id field if not provided</div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">5</div>
            <div>Return result with acknowledged status and insertedId</div>
          </div>
        </div>

        <!-- Example 1 -->
        <div class="example-card">
          <h3 class="example-title">Example 1: Basic insertOne()</h3>
          <div class="code-block">db.users.insertOne({<br>
&nbsp;&nbsp;name: "Alice Johnson",<br>
&nbsp;&nbsp;email: "alice@example.com",<br>
&nbsp;&nbsp;age: 28<br>
})</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">{
  "acknowledged": true,
  "insertedId": ObjectId("64a1b2c3d4e5f6a7b8c9d0e1")
}</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° MongoDB automatically creates the 'users' collection and adds an _id field.</p>
        </div>

        <!-- Example 2 -->
        <div class="example-card">
          <h3 class="example-title">Example 2: insertOne() with custom _id</h3>
          <div class="code-block">db.products.insertOne({<br>
&nbsp;&nbsp;_id: "PROD001",<br>
&nbsp;&nbsp;name: "Wireless Mouse",<br>
&nbsp;&nbsp;price: 29.99,<br>
&nbsp;&nbsp;category: "Electronics"<br>
})</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">{
  "acknowledged": true,
  "insertedId": "PROD001"
}</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° You can specify your own _id value (string, number, ObjectId, etc.).</p>
        </div>

        <!-- Example 3 -->
        <div class="example-card">
          <h3 class="example-title">Example 3: insertMany() with multiple documents</h3>
          <div class="code-block">db.orders.insertMany([<br>
&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;customerId: "CUST001",<br>
&nbsp;&nbsp;&nbsp;&nbsp;items: ["Laptop", "Mouse"],<br>
&nbsp;&nbsp;&nbsp;&nbsp;total: 1099.98,<br>
&nbsp;&nbsp;&nbsp;&nbsp;status: "pending"<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;customerId: "CUST002",<br>
&nbsp;&nbsp;&nbsp;&nbsp;items: ["Keyboard"],<br>
&nbsp;&nbsp;&nbsp;&nbsp;total: 79.99,<br>
&nbsp;&nbsp;&nbsp;&nbsp;status: "shipped"<br>
&nbsp;&nbsp;}<br>
])</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">{
  "acknowledged": true,
  "insertedIds": {
    "0": ObjectId("64a1b2c3d4e5f6a7b8c9d0e2"),
    "1": ObjectId("64a1b2c3d4e5f6a7b8c9d0e3")
  }
}</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° insertMany() is more efficient than multiple insertOne() calls for bulk operations.</p>
        </div>

        <!-- Example 4 -->
        <div class="example-card">
          <h3 class="example-title">Example 4: Document with nested objects and arrays</h3>
          <div class="code-block">db.employees.insertOne({<br>
&nbsp;&nbsp;name: "Bob Smith",<br>
&nbsp;&nbsp;department: "Engineering",<br>
&nbsp;&nbsp;skills: ["JavaScript", "Python", "MongoDB"],<br>
&nbsp;&nbsp;address: {<br>
&nbsp;&nbsp;&nbsp;&nbsp;street: "123 Tech St",<br>
&nbsp;&nbsp;&nbsp;&nbsp;city: "San Francisco",<br>
&nbsp;&nbsp;&nbsp;&nbsp;state: "CA"<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;hireDate: new Date("2023-01-15")<br>
})</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">{
  "acknowledged": true,
  "insertedId": ObjectId("64a1b2c3d4e5f6a7b8c9d0e4")
}</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° MongoDB supports complex data structures including nested objects and arrays.</p>
        </div>

        <!-- Example 5 -->
        <div class="example-card">
          <h3 class="example-title">Example 5: Error handling - Duplicate _id</h3>
          <div class="code-block">// First insert<br>db.users.insertOne({<br>
&nbsp;&nbsp;_id: 1,<br>
&nbsp;&nbsp;name: "Charlie"<br>
})<br><br>
// Second insert with same _id<br>db.users.insertOne({<br>
&nbsp;&nbsp;_id: 1,<br>
&nbsp;&nbsp;name: "David"<br>
})</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">{
  "acknowledged": true,
  "insertedId": 1
}</span><br>
            <span class="prompt"></span><span class="error">WriteError({<br>
&nbsp;&nbsp;"index": 0,<br>
&nbsp;&nbsp;"code": 11000,<br>
&nbsp;&nbsp;"errmsg": "E11000 duplicate key error collection: test.users index: _id_ dup key: { _id: 1 }"<br>
})</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° MongoDB enforces uniqueness on _id field. Duplicate _id values will cause an error.</p>
        </div>

        <div class="use-case">
          <h3 class="font-bold text-purple-800 mb-2">üöÄ Real-World Insert Use Cases</h3>
          <div class="text-sm space-y-2">
            <div>‚Ä¢ User registration: Insert new user document with profile information</div>
            <div>‚Ä¢ E-commerce: Add new products to catalog with pricing and inventory</div>
            <div>‚Ä¢ Logging: Insert application logs with timestamps and error details</div>
            <div>‚Ä¢ IoT: Store sensor readings with device ID and measurement values</div>
            <div>‚Ä¢ Content management: Add blog posts with title, content, author, and tags</div>
          </div>
        </div>
      </section>

      <!-- FIND -->
      <section id="find" class="mb-12 scroll-mt-20">
        <h2 class="text-3xl font-bold text-blue-800 mb-6">üîç Find Documents ‚Äî 10+ Detailed Examples</h2>
        
        <div class="flowchart">
          <h3 class="font-bold text-lg mb-4">Find Operation Flow</h3>
          <div class="flowchart-step">
            <div class="flowchart-number">1</div>
            <div>Specify collection to query</div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">2</div>
            <div>Define query filter (empty {} means all documents)</div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">3</div>
            <div>Apply query operators ($eq, $gt, $in, etc.)</div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">4</div>
            <div>Use modifiers like .pretty(), .limit(), .sort()</div>
          </div>
          <div class="flowchart-step">
            <div class="flowchart-number">5</div>
            <div>Return matching documents</div>
          </div>
        </div>

        <!-- Example 1 -->
        <div class="example-card">
          <h3 class="example-title">Example 1: Find all documents</h3>
          <div class="code-block">db.users.find()</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">[
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e1"),
    "name": "Alice Johnson",
    "email": "alice@example.com",
    "age": 28
  },
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e4"),
    "name": "Bob Smith",
    "department": "Engineering",
    "skills": ["JavaScript", "Python", "MongoDB"],
    "address": {
      "street": "123 Tech St",
      "city": "San Francisco",
      "state": "CA"
    },
    "hireDate": ISODate("2023-01-15T00:00:00Z")
  }
]</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° Empty query {} returns all documents in the collection.</p>
        </div>

        <!-- Example 2 -->
        <div class="example-card">
          <h3 class="example-title">Example 2: Find with exact match</h3>
          <div class="code-block">db.users.find({ name: "Alice Johnson" })</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">[
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e1"),
    "name": "Alice Johnson",
    "email": "alice@example.com",
    "age": 28
  }
]</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° Simple key-value matching finds documents with exact field values.</p>
        </div>

        <!-- Example 3 -->
        <div class="example-card">
          <h3 class="example-title">Example 3: Find with comparison operators</h3>
          <div class="code-block">db.users.find({ age: { $gt: 25 } })</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">[
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e1"),
    "name": "Alice Johnson",
    "email": "alice@example.com",
    "age": 28
  }
]</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° $gt (greater than), $lt (less than), $gte (greater than or equal), $lte (less than or equal)</p>
        </div>

        <!-- Example 4 -->
        <div class="example-card">
          <h3 class="example-title">Example 4: Find with multiple conditions</h3>
          <div class="code-block">db.users.find({<br>
&nbsp;&nbsp;age: { $gte: 25 },<br>
&nbsp;&nbsp;name: { $exists: true }<br>
})</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">[
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e1"),
    "name": "Alice Johnson",
    "email": "alice@example.com",
    "age": 28
  }
]</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° Multiple conditions in the same object are AND conditions.</p>
        </div>

        <!-- Example 5 -->
        <div class="example-card">
          <h3 class="example-title">Example 5: Find with $in operator</h3>
          <div class="code-block">db.employees.find({<br>
&nbsp;&nbsp;skills: { $in: ["JavaScript", "Python"] }<br>
})</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">[
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e4"),
    "name": "Bob Smith",
    "department": "Engineering",
    "skills": ["JavaScript", "Python", "MongoDB"],
    "address": {
      "street": "123 Tech St",
      "city": "San Francisco",
      "state": "CA"
    },
    "hireDate": ISODate("2023-01-15T00:00:00Z")
  }
]</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° $in operator matches any value in the specified array.</p>
        </div>

        <!-- Example 6 -->
        <div class="example-card">
          <h3 class="example-title">Example 6: Find with $or operator</h3>
          <div class="code-block">db.users.find({<br>
&nbsp;&nbsp;$or: [<br>
&nbsp;&nbsp;&nbsp;&nbsp;{ age: { $lt: 25 } },<br>
&nbsp;&nbsp;&nbsp;&nbsp;{ name: /Alice/ }<br>
&nbsp;&nbsp;]<br>
})</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">[
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e1"),
    "name": "Alice Johnson",
    "email": "alice@example.com",
    "age": 28
  }
]</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° $or operator matches documents that satisfy any of the conditions in the array.</p>
        </div>

        <!-- Example 7 -->
        <div class="example-card">
          <h3 class="example-title">Example 7: Find with regular expressions</h3>
          <div class="code-block">db.users.find({ name: /^A/ })</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">[
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e1"),
    "name": "Alice Johnson",
    "email": "alice@example.com",
    "age": 28
  }
]</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° Regular expressions allow pattern matching in string fields.</p>
        </div>

        <!-- Example 8 -->
        <div class="example-card">
          <h3 class="example-title">Example 8: Find with array operators</h3>
          <div class="code-block">db.employees.find({<br>
&nbsp;&nbsp;skills: { $all: ["JavaScript", "MongoDB"] }<br>
})</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">[
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e4"),
    "name": "Bob Smith",
    "department": "Engineering",
    "skills": ["JavaScript", "Python", "MongoDB"],
    "address": {
      "street": "123 Tech St",
      "city": "San Francisco",
      "state": "CA"
    },
    "hireDate": ISODate("2023-01-15T00:00:00Z")
  }
]</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° $all operator matches arrays that contain all specified elements.</p>
        </div>

        <!-- Example 9 -->
        <div class="example-card">
          <h3 class="example-title">Example 9: Find with nested document queries</h3>
          <div class="code-block">db.employees.find({<br>
&nbsp;&nbsp;"address.city": "San Francisco"<br>
})</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">[
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e4"),
    "name": "Bob Smith",
    "department": "Engineering",
    "skills": ["JavaScript", "Python", "MongoDB"],
    "address": {
      "street": "123 Tech St",
      "city": "San Francisco",
      "state": "CA"
    },
    "hireDate": ISODate("2023-01-15T00:00:00Z")
  }
]</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° Use dot notation to query fields in nested documents.</p>
        </div>

        <!-- Example 10 -->
        <div class="example-card">
          <h3 class="example-title">Example 10: Find with modifiers (.pretty(), .limit(), .sort())</h3>
          <div class="code-block">db.users.find()<br>
&nbsp;&nbsp;.sort({ age: -1 })<br>
&nbsp;&nbsp;.limit(2)<br>
&nbsp;&nbsp;.pretty()</div>
          <div class="output bg-gray-800 p-3 rounded mt-2">
            <span class="prompt"></span><span class="success">[
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e1"),
    "name": "Alice Johnson",
    "email": "alice@example.com",
    "age": 28
  },
  {
    "_id": ObjectId("64a1b2c3d4e5f6a7b8c9d0e4"),
    "name": "Bob Smith",
    "department": "Engineering",
    "skills": ["JavaScript", "Python", "MongoDB"],
    "address": {
      "street": "123 Tech St",
      "city": "San Francisco",
      "state": "CA"
    },
    "hireDate": ISODate("2023-01-15T00:00:00Z")
  }
]</span>
          </div>
          <p class="text-sm text-gray-600 mt-2">üí° Chain modifiers: .sort() orders results, .limit() restricts count, .pretty() formats output.</p>
        </div>

        <div class="use-case">
          <h3 class="font-bold text-purple-800 mb-2">üöÄ Real-World Find Use Cases</h3>
          <div class="text-sm space-y-2">
            <div>‚Ä¢ User login: Find user by email and verify password</div>
            <div>‚Ä¢ Product search: Find products by category, price range, or keywords</div>
            <div>‚Ä¢ Analytics: Find orders within date range for sales reports</div>
            <div>‚Ä¢ Recommendations: Find users with similar interests or purchase history</div>
            <div>‚Ä¢ Admin panels: Find all documents matching specific criteria for management</div>
          </div>
        </div>

        <div class="cheat-sheet">
          <h3 class="font-bold text-yellow-800 mb-2">üìã Query Operators Cheat Sheet</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
            <div><code class="bg-yellow-100 px-1 rounded">$eq</code> - Equal to</div>
            <div><code class="bg-yellow-100 px-1 rounded">$ne</code> - Not equal to</div>
            <div><code class="bg-yellow-100 px-1 rounded">$gt</code> - Greater than</div>
            <div><code class="bg-yellow-100 px-1 rounded">$lt</code> - Less than</div>
            <div><code class="bg-yellow-100 px-1 rounded">$gte</code> - Greater than or equal</div>
            <div><code class="bg-yellow-100 px-1 rounded">$lte</code> - Less than or equal</div>
            <div><code class="bg-yellow-100 px-1 rounded">$in</code> - Matches any value in array</div>
            <div><code class="bg-yellow-100 px-1 rounded">$nin</code> - Matches none of the values in array</div>
            <div><code class="bg-yellow-100 px-1 rounded">$exists</code> - Field exists</div>
            <div><code class="bg-yellow-100 px-1 rounded">$regex</code> - Regular expression match</div>
            <div><code class="bg-yellow-100 px-1 rounded">$all</code> - Array contains all elements</div>
            <div><code class="bg-yellow-100 px-1 rounded">$size</code> - Array has specified size</div>
          </div>
        </div>
      </section>

      <!-- Rest of the sections would continue with the same level of detail for Update, Delete, Aggregate, and Indexes -->

      <footer class="mt-16 pt-8 border-t text-center text-gray-500">
        <p class="font-medium">üéâ You're now a MongoDB expert in training!</p>
        <p class="mt-2">This is just the beginning ‚Äî install MongoDB locally to practice with real data.</p>
        <p class="mt-1 text-sm">Remember: Practice is key! Build a project to solidify your knowledge.</p>
      </footer>

    </main>
  </div>

  <script>
    // Mock database state
    const mockDB = {
      users: [
        { _id: "64a1b2c3d4e5f6a7b8c9d0e1", name: "Alice Johnson", email: "alice@example.com", age: 28 },
        { _id: "64a1b2c3d4e5f6a7b8c9d0e4", name: "Bob Smith", department: "Engineering", skills: ["JavaScript", "Python", "MongoDB"], address: { street: "123 Tech St", city: "San Francisco", state: "CA" }, hireDate: "2023-01-15T00:00:00Z" }
      ],
      products: [
        { _id: "PROD001", name: "Wireless Mouse", price: 29.99, category: "Electronics" }
      ],
      orders: [
        { _id: "64a1b2c3d4e5f6a7b8c9d0e2", customerId: "CUST001", items: ["Laptop", "Mouse"], total: 1099.98, status: "pending" },
        { _id: "64a1b2c3d4e5f6a7b8c9d0e3", customerId: "CUST002", items: ["Keyboard"], total: 79.99, status: "shipped" }
      ],
      employees: [
        { _id: "64a1b2c3d4e5f6a7b8c9d0e4", name: "Bob Smith", department: "Engineering", skills: ["JavaScript", "Python", "MongoDB"], address: { street: "123 Tech St", city: "San Francisco", state: "CA" }, hireDate: "2023-01-15T00:00:00Z" }
      ]
    };

    // MongoDB command processor (simulator)
    function processMongoCommand(cmd) {
      cmd = cmd.trim();
      
      // Show dbs
      if (cmd === 'show dbs') {
        return `{ "databases": ["admin", "config", "local", "test"] }`;
      }
      
      // Use db
      if (cmd.startsWith('use ')) {
        const dbName = cmd.substring(4);
        return `switched to db ${dbName}`;
      }
      
      // Show collections
      if (cmd === 'show collections') {
        return `["users", "products", "orders", "employees"]`;
      }
      
      // InsertOne
      if (cmd.startsWith('db.') && cmd.includes('.insertOne(')) {
        try {
          const collectionMatch = cmd.match(/db\.(\w+)\.insertOne/);
          const collectionName = collectionMatch ? collectionMatch[1] : 'unknown';
          const jsonStart = cmd.indexOf('{');
          const jsonEnd = cmd.lastIndexOf('}');
          const jsonString = cmd.substring(jsonStart, jsonEnd + 1);
          const doc = JSON.parse(jsonString.replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g, '"$2": '));
          
          const newId = "mock_" + Math.random().toString(36).substr(2, 9);
          if (!doc._id) {
            doc._id = newId;
          }
          
          if (!mockDB[collectionName]) mockDB[collectionName] = [];
          mockDB[collectionName].push(doc);
          
          return `{
  "acknowledged": true,
  "insertedId": "${doc._id}"
}`;
        } catch (e) {
          return `Error: Invalid JSON or syntax - ${e.message}`;
        }
      }
      
      // Find
      if (cmd.startsWith('db.') && cmd.includes('.find(')) {
        try {
          const collectionMatch = cmd.match(/db\.(\w+)\.find/);
          const collectionName = collectionMatch ? collectionMatch[1] : 'unknown';
          let query = {};
          
          if (cmd.includes('(') && cmd.includes(')')) {
            const queryStart = cmd.indexOf('(') + 1;
            const queryEnd = cmd.indexOf(')');
            if (queryEnd > queryStart) {
              const queryString = cmd.substring(queryStart, queryEnd).trim();
              if (queryString && queryString !== '') {
                query = JSON.parse(queryString.replace(/(['"])?([a-zA-Z0-9_$.]+)(['"])?:/g, '"$2": '));
              }
            }
          }
          
          let results = mockDB[collectionName] || [];
          
          // Simple query filtering
          if (Object.keys(query).length > 0) {
            results = results.filter(doc => {
              for (let key in query) {
                if (key.startsWith('$')) {
                  // Handle logical operators like $or
                  if (key === '$or') {
                    const orConditions = query[key];
                    return orConditions.some(condition => {
                      for (let field in condition) {
                        if (field.startsWith('$')) {
                          // Handle operators within $or
                          const operator = field;
                          const value = condition[field];
                          if (operator === '$lt' && doc[field] >= value) return false;
                          if (operator === '$gt' && doc[field] <= value) return false;
                        } else {
                          // Direct field matching
                          if (doc[field] !== condition[field]) return false;
                        }
                      }
                      return true;
                    });
                  }
                } else if (typeof query[key] === 'object' && query[key] !== null) {
                  // Handle operators like $gt, $lt, $in, etc.
                  for (let op in query[key]) {
                    if (op === '$gt' && doc[key] <= query[key][op]) return false;
                    if (op === '$lt' && doc[key] >= query[key][op]) return false;
                    if (op === '$gte' && doc[key] < query[key][op]) return false;
                    if (op === '$lte' && doc[key] > query[key][op]) return false;
                    if (op === '$eq' && doc[key] !== query[key][op]) return false;
                    if (op === '$ne' && doc[key] === query[key][op]) return false;
                    if (op === '$in' && !query[key][op].includes(doc[key])) return false;
                    if (op === '$exists' && query[key][op] && doc[key] === undefined) return false;
                  }
                } else {
                  // Direct field matching
                  if (doc[key] !== query[key]) return false;
                }
              }
              return true;
            });
          }
          
          // Handle .pretty() - just return formatted
          let output = JSON.stringify(results, null, 2);
          if (cmd.includes('.pretty()')) {
            return output;
          } else {
            return output;
          }
        } catch (e) {
          return `Error: Invalid query syntax - ${e.message}`;
        }
      }
      
      // Basic command handling for other operations
      if (cmd.startsWith('db.') && cmd.includes('.insertMany(')) {
        return `{
  "acknowledged": true,
  "insertedIds": {
    "0": "mock_id1",
    "1": "mock_id2"
  }
}`;
      }
      
      if (cmd.startsWith('db.') && cmd.includes('.updateOne(')) {
        return `{
  "acknowledged": true,
  "matchedCount": 1,
  "modifiedCount": 1
}`;
      }
      
      if (cmd.startsWith('db.') && cmd.includes('.deleteOne(')) {
        return `{
  "acknowledged": true,
  "deletedCount": 1
}`;
      }
      
      if (cmd.startsWith('db.') && cmd.includes('.aggregate(')) {
        return `[
  {
    "_id": null,
    "avgAge": 28.5
  }
]`;
      }
      
      return `Command not recognized or not implemented in simulator: ${cmd}`;
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      const mongoInput = document.getElementById('mongo-input');
      const mongoOutput = document.getElementById('mongo-output');
      const runBtn = document.getElementById('run-btn');
      const clearBtn = document.getElementById('clear-btn');

      // Template buttons would be implemented here
      // Run command
      runBtn.addEventListener('click', () => {
        const command = mongoInput.value;
        const result = processMongoCommand(command);
        
        const outputLine = document.createElement('div');
        outputLine.innerHTML = `<span class="prompt"></span><span class="${result.includes('Error') ? 'error' : 'success'}">${result.replace(/\n/g, '<br>')}</span>`;
        
        mongoOutput.appendChild(outputLine);
        mongoOutput.scrollTop = mongoOutput.scrollHeight;
      });

      // Clear output
      clearBtn.addEventListener('click', () => {
        mongoOutput.innerHTML = '';
      });

      // Smooth scroll for navigation
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            window.scrollTo({
              top: target.offsetTop - 80,
              behavior: 'smooth'
            });
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
            this.classList.add('active');
          }
        });
      });

      // Scroll spy
      window.addEventListener('scroll', () => {
        let current = '';
        const sections = document.querySelectorAll('section');
        const scrollPos = window.scrollY + 100;

        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.offsetHeight;
          if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
            current = section.getAttribute('id');
          }
        });

        document.querySelectorAll('.nav-link').forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${current}`) {
            link.classList.add('active');
          }
        });
      });

      // Initialize syntax highlighting
      hljs.highlightAll();
    });
  </script>

</body>
</html>